{"ast":null,"code":"var _jsxFileName = \"/Users/ecks/Desktop/gettrendy/gettrendy-frontend/src/components/Posts/PostDetail/comment/UpdateComment.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { updateCommentAction, fetchCommentAction } from \"../../../../redux/slices/comment/commentSlices\";\nimport { useParams } from \"react-router-dom/cjs/react-router-dom.min\";\n\n//Form schema\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst formSchema = Yup.object({\n  description: Yup.string().required(\"Description is required\")\n});\nconst UpdateComment = _ref => {\n  _s();\n  let {} = _ref;\n  const id = useParams().id;\n  //dispatch\n  const dispatch = useDispatch();\n  //fetch comment\n  useEffect(() => {\n    dispatch(fetchCommentAction(id));\n  }, [dispatch, id]);\n  //select comment from store\n  const comment = useSelector(state => state === null || state === void 0 ? void 0 : state.comment);\n  const {\n    commentDetails,\n    isUpdate\n  } = comment;\n  const formik = useFormik({\n    enableReinitialize: true,\n    initialValues: {\n      description: commentDetails === null || commentDetails === void 0 ? void 0 : commentDetails.description\n    },\n    onSubmit: values => {\n      const data = {\n        id,\n        description: values === null || values === void 0 ? void 0 : values.description\n      };\n      //dispatch action\n      dispatch(updateCommentAction(data));\n    },\n    validationSchema: formSchema\n  });\n\n  //redirect\n  if (isUpdate) return /*#__PURE__*/_jsxDEV(Redirect, {\n    to: `/posts`\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 24\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-96 flex justify-center items-center\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col justify-center items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: formik.handleSubmit,\n        className: \"mt-1 flex max-w-sm m-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          onBlur: formik.handleBlur(\"description\"),\n          value: formik.values.description,\n          onChange: formik.handleChange(\"description\"),\n          type: \"text\",\n          name: \"text\",\n          id: \"text\",\n          className: \"shadow-sm focus:ring-indigo-500  mr-2 focus:border-indigo-500 block w-full p-2 border-2 sm:text-sm border-gray-300 rounded-md\",\n          placeholder: \"Add New comment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-red-400 mb-2 mt-2\",\n        children: formik.touched.description && formik.errors.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n_s(UpdateComment, \"JRqaByeRXXvfrb7utATiR5xirjo=\", false, function () {\n  return [useParams, useDispatch, useSelector, useFormik];\n});\n_c = UpdateComment;\nexport default UpdateComment;\nvar _c;\n$RefreshReg$(_c, \"UpdateComment\");","map":{"version":3,"names":["React","useEffect","Redirect","useFormik","Yup","useDispatch","useSelector","updateCommentAction","fetchCommentAction","useParams","jsxDEV","_jsxDEV","formSchema","object","description","string","required","UpdateComment","_ref","_s","id","dispatch","comment","state","commentDetails","isUpdate","formik","enableReinitialize","initialValues","onSubmit","values","data","validationSchema","to","fileName","_jsxFileName","lineNumber","columnNumber","className","children","handleSubmit","onBlur","handleBlur","value","onChange","handleChange","type","name","placeholder","touched","errors","_c","$RefreshReg$"],"sources":["/Users/ecks/Desktop/gettrendy/gettrendy-frontend/src/components/Posts/PostDetail/comment/UpdateComment.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  updateCommentAction,\n  fetchCommentAction,\n} from \"../../../../redux/slices/comment/commentSlices\";\nimport { useParams } from \"react-router-dom/cjs/react-router-dom.min\";\n\n//Form schema\nconst formSchema = Yup.object({\n  description: Yup.string().required(\"Description is required\"),\n});\n\nconst UpdateComment = ({}) => {\n  const id = useParams().id;\n  //dispatch\n  const dispatch = useDispatch();\n  //fetch comment\n  useEffect(() => {\n    dispatch(fetchCommentAction(id));\n  }, [dispatch, id]);\n  //select comment from store\n  const comment = useSelector((state) => state?.comment);\n  const { commentDetails, isUpdate } = comment;\n\n  const formik = useFormik({\n    enableReinitialize: true,\n    initialValues: {\n      description: commentDetails?.description,\n    },\n    onSubmit: (values) => {\n      const data = {\n        id,\n        description: values?.description,\n      };\n      //dispatch action\n      dispatch(updateCommentAction(data));\n    },\n    validationSchema: formSchema,\n  });\n\n  //redirect\n  if (isUpdate) return <Redirect to={`/posts`} />;\n  return (\n    <div className='h-96 flex justify-center items-center'>\n      <div className='flex flex-col justify-center items-center'>\n        <form\n          onSubmit={formik.handleSubmit}\n          className='mt-1 flex max-w-sm m-auto'\n        >\n          <textarea\n            onBlur={formik.handleBlur(\"description\")}\n            value={formik.values.description}\n            onChange={formik.handleChange(\"description\")}\n            type='text'\n            name='text'\n            id='text'\n            className='shadow-sm focus:ring-indigo-500  mr-2 focus:border-indigo-500 block w-full p-2 border-2 sm:text-sm border-gray-300 rounded-md'\n            placeholder='Add New comment'\n          />\n\n          <button\n            type='submit'\n            className='inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500'\n          >\n            Submit\n          </button>\n        </form>\n        <div className='text-red-400 mb-2 mt-2'>\n          {formik.touched.description && formik.errors.description}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default UpdateComment;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}